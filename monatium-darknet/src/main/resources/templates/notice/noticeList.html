<!DOCTYPE html>
<!-- v13 -->
<!--공지사항별 이미지 경로 추가, 캐릭터 이미지 (초상화, 프로필, 스킨 등) 경로 설계-->
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/header :: common_header(~{::title}, ~{::link})}">
    <title>공지사항</title>
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
    <link rel="stylesheet" th:href="@{/css/footer.css}">
    <link rel="stylesheet" th:href="@{/css/font.css}">
    <link rel="stylesheet" th:href="@{/css/noticeList.css}">
    <!-- 커스텀 css -->
</head>

<body>
    <!-- 상단 네비게이션 바 -->
    <nav th:replace="~{fragments/navbar :: common_navbar}">
        상단 네비게이션 바 영역
    </nav>

    <!-- 표지 이미지 섹션 -->
    <section class="cover-section"></section>

    <!-- 메인 콘텐츠 영역 -->
    <div class="container container-main">

        <!-- 카테고리 필터링 메뉴 -->
        <div class="category-menu">
            <h5>카테고리</h5>
            <ul>
                <li><a href="/notices">최신 소식</a></li>
                <li><a href="?category=notice">공지사항</a></li>
                <li><a href="?category=update">업데이트</a></li>
                <li><a href="?category=event">이벤트</a></li>
                <li><a href="?category=dev">개발자 노트</a></li>
            </ul>
        </div>

        <!-- 공지사항 리스트 섹션 -->
        <div class="notice-list-section">

            <!-- 공지사항 제목 -->
            <h2 class="text-center mb-5">새소식 및 공지사항</h2>

            <!-- 공지사항 목록 -->
            <ul class="list-unstyled">

                <li class="notice-item" th:each="notice : ${noticeList}">
                    <!-- 썸네일 이미지 -->
                    <!-- !! ${{}} 를 사용해야 컨버전 서비스가 적용됨 -->
                    <div class="thumbnail-container me-3" th:switch="${{notice.category}}">
                        <img th:case="'NOTICE'" th:src="@{/imgs/notice/CategoryThumbnail1.png}" alt="공지사항 썸네일" class="notice-thumbnail">
                        <img th:case="'UPDATE'" th:src="@{/imgs/notice/CategoryThumbnail2.png}" alt="공지사항 썸네일" class="notice-thumbnail">
                        <img th:case="'EVENT'" th:src="@{/imgs/notice/CategoryThumbnail3.png}" alt="공지사항 썸네일" class="notice-thumbnail">
                        <img th:case="'DEV'" th:src="@{/imgs/notice/CategoryThumbnail4.png}" alt="공지사항 썸네일" class="notice-thumbnail">
                        <img th:case="*" th:src="@{/imgs/notice/CategoryThumbnail1.png}" alt="공지사항 썸네일" class="notice-thumbnail">
                    </div>

                    <!-- 제목 및 날짜 -->
                    <div class="notice-content">
                        <a th:href="@{ /notices/{id} (id=${notice.id}) }"
                           class="notice-title"
                           th:text="${notice.title}"> 공지사항 제목 </a>

                        <div class="notice-date" th:text="${#temporals.format(notice.date, 'yyyy-MM-dd')}"> 날짜 </div>
                    </div>

                </li>

            </ul>

            <!-- 뒤로가기 버튼 -->
            <div class="text-center">
              <a href="/" class="btn btn-back">메인으로 돌아가기</a>
            </div>
        </div>

    </div>

    <footer th:replace="~{fragments/footer :: common_footer}"></footer>

</body>

</html>
